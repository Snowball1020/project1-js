<!--
  Step 1: This is your descretion how you would like to display data,
  but you must list all the documents in your resource collection.
-->




<%- include("../partials/header") %>



<div class="container mt-4">

    <h4 class="reservation-list">Welcome, <%= user.firstName %> <%= user.lastName %></h4>     
      <h5 class="reservation-list mt-4">Item List</h5>
    <% for(let item of items) { %>

        <div class="card">
                <div class="card-header text-white bg-dark" >
                  Seller: <span class="productName"><%= item.user.fullname %></span> <span class="time"> Updated at: <%= item.updatedAt.toLocaleString() %> </span>
                </div>
                <div class="card-body">
                  <h5 class="card-title">Product Name : <%= item.name %> </h5>
                  <p class="card-title"><%= item.itemDetails %></p>
                  <p class="card-text">Price: $<%= item.price %></p>
                  <p class="card-text">Staus: <%= item.status %></p>

                  <a href="/items/<%= item._id %>" class="btn btn-primary">View details</a>
                
                  <% if (authorized && (item.user.email === user.email)){%>
                    <a class="btn btn-success" href="/items/<%= item._id %>/edit">Edit</a>
                
                  <form class="form-inline" action="/items/delete" method="post" onsubmit="return confirm('Are you sure you want to delete this reservation??')">
                  <input type="hidden" value="<%= item._id %>" name="id">
                  <button class="btn btn-danger" type="submit">Delete</button>
                    
                  </form>
                  <% } %>
                </div>
              </div>

              &nbsp;&nbsp;

    <% }%>

    
</div>



<%- include("../partials/footer") %>


<%- include ('../partials/footer') %>
